<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Games • Cerdas Cermat</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- CSS layout khusus games -->
  <link rel="stylesheet" href="games.css" />
</head>

<body>
  <!-- Header kamu (biar konsisten sama halaman lain) -->
  <header class="header">
    <div class="headerInner">
      <div class="brand">
        <b>New Resident</b>
        <small>Yogyakarta</small>
      </div>

      <nav class="nav">
        <a href="index.html">Beranda</a>
        <a href="confession.html">Confession</a>
        <a href="event.html">Event</a>
        <a class="active" href="games.html">Games</a>
      </nav>
    </div>
  </header>

  <main class="cc-wrap">
    <!-- =============== JOIN CARD =============== -->
    <section id="joinCard" class="cc-join card">
      <h1 class="cc-title">Cerdas Cermat (Live)</h1>
      <p class="cc-sub">Masukkan kode room dari admin dan nickname kamu.</p>

      <div class="cc-join-grid">
        <div>
          <label>Kode Room</label>
          <input id="roomCode" placeholder="XXXXXX" autocomplete="off" />
        </div>
        <div>
          <label>Nickname</label>
          <input id="nickname" placeholder="nama kamu" autocomplete="off" />
        </div>
      </div>

      <button id="joinBtn" class="btn cc-btn">Join</button>
      <div id="joinStatus" class="cc-muted" style="margin-top:10px;"></div>
    </section>

    <!-- =============== GAME CARD =============== -->
    <section id="gameCard" class="cc-game" style="display:none;">
      <!-- KIRI: LEADERBOARD (SCROLL DI SINI AJA) -->
      <aside class="cc-left card">
        <div class="cc-left-head">
          <div>
            <div class="cc-left-title">Players</div>
            <div id="lbStatus" class="cc-muted">—</div>
          </div>
          <div id="meTag" class="cc-me">—</div>
        </div>

        <div id="lbList" class="cc-left-list">
          <!-- diisi games.js -->
        </div>
      </aside>

      <!-- TENGAH: PERTANYAAN + BUZZ -->
      <section class="cc-center">
        <div class="cc-question card">
          <div class="cc-q-top">
            <div>
              <div class="cc-roomline">
                <span class="cc-muted">Room:</span>
                <b id="roomLabel">—</b>
              </div>
              <div id="gameStatus" class="cc-muted" style="margin-top:6px;">—</div>
            </div>

            <button id="leaveBtn" class="btn secondary cc-leave" type="button">Keluar</button>
          </div>

          <div class="cc-q-body">
            <div class="cc-q-label">PERTANYAAN</div>
            <div id="qText" class="cc-q-text">—</div>
          </div>

          <div class="cc-q-divider"></div>

          <div class="cc-q-actions">
            <button id="buzzBtn" class="btn cc-buzz" type="button" disabled>BUZZ</button>
            <div id="buzzInfo" class="cc-muted" style="margin-top:10px;"></div>
          </div>
        </div>

        <!-- BAWAH: TAB JAWABAN / OBROLAN (OBROLAN placeholder) -->
        <div class="cc-bottom card">
          <div class="cc-tabs">
            <button class="cc-tab active" type="button" data-tab="answers">JAWABAN</button>
            <button class="cc-tab" type="button" data-tab="chat">OBROLAN</button>
          </div>

          <div class="cc-panels">
            <!-- ANSWERS -->
            <div class="cc-panel" data-panel="answers">
              <div class="cc-panel-top">
                <div id="feedStatus" class="cc-muted"></div>
              </div>

              <div id="feedList" class="cc-feed">
                <!-- diisi games.js -->
              </div>

              <!-- box jawab hanya muncul kalau menang buzz -->
              <div id="answerBox" class="cc-answerbox" style="display:none;">
                <textarea id="answerText" class="cc-input" placeholder="Jawab di sini..."></textarea>
                <div class="cc-answer-actions">
                  <button id="sendAnswerBtn" class="btn cc-btn" type="button">Kirim Jawaban</button>
                  <div id="answerStatus" class="cc-muted"></div>
                </div>
              </div>
            </div>

            <!-- CHAT (placeholder) -->
            <div class="cc-panel" data-panel="chat" style="display:none;">
              <div class="cc-muted">Chat coming soon…</div>
            </div>
          </div>
        </div>
      </section>
    </section>

    <!-- =============== FINAL OVERLAY (ENDED) =============== -->
    <div id="endOverlay" class="cc-overlay" style="display:none;">
      <div class="cc-overlay-box card">
        <div class="cc-overlay-head">
          <h2 style="margin:0;">Leaderboard Akhir</h2>
          <button id="closeOverlay" class="btn secondary" type="button">Tutup</button>
        </div>
        <div id="finalSub" class="cc-muted" style="margin-top:6px;"></div>
        <div id="finalList" style="margin-top:12px;"></div>
      </div>
    </div>
  </main>

  <script>
    // tab switcher (pure UI)
    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".cc-tab");
      if (!btn) return;
      const tab = btn.getAttribute("data-tab");

      document.querySelectorAll(".cc-tab").forEach(x => x.classList.remove("active"));
      btn.classList.add("active");

      document.querySelectorAll(".cc-panel").forEach(p => {
        p.style.display = (p.getAttribute("data-panel") === tab) ? "block" : "none";
      });
    });
  </script>

  <script type="module" src="games.js"></script>
</body>
</html>
